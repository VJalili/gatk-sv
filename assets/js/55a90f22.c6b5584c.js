"use strict";(self.webpackChunkGATK_SV=self.webpackChunkGATK_SV||[]).push([[1113],{3905:(e,n,i)=>{i.d(n,{Zo:()=>d,kt:()=>u});var t=i(7294);function a(e,n,i){return n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i,e}function r(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function o(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(n){a(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function s(e,n){if(null==e)return{};var i,t,a=function(e,n){if(null==e)return{};var i,t,a={},r=Object.keys(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||(a[i]=e[i]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)i=r[t],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(a[i]=e[i])}return a}var c=t.createContext({}),l=function(e){var n=t.useContext(c),i=n;return e&&(i="function"==typeof e?e(n):o(o({},n),e)),i},d=function(e){var n=l(e.components);return t.createElement(c.Provider,{value:n},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},g=t.forwardRef((function(e,n){var i=e.components,a=e.mdxType,r=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=l(i),g=a,u=p["".concat(c,".").concat(g)]||p[g]||m[g]||r;return i?t.createElement(u,o(o({ref:n},d),{},{components:i})):t.createElement(u,o({ref:n},d))}));function u(e,n){var i=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=i.length,o=new Array(r);o[0]=g;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s[p]="string"==typeof e?e:a,o[1]=s;for(var l=2;l<r;l++)o[l]=i[l];return t.createElement.apply(null,o)}return t.createElement.apply(null,i)}g.displayName="MDXCreateElement"},342:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var t=i(7462),a=(i(7294),i(3905)),r=i(4996),o=i(941);const s={title:"Docker Images Hierarchy",description:"Docker Image Dependencies",sidebar_position:1},c=void 0,l={unversionedId:"advanced/docker/images",id:"advanced/docker/images",title:"Docker Images Hierarchy",description:"Docker Image Dependencies",source:"@site/docs/advanced/docker/images.md",sourceDirName:"advanced/docker",slug:"/advanced/docker/images",permalink:"/gatk-sv/docs/advanced/docker/images",draft:!1,editUrl:"https://github.com/broadinstitute/gatk-sv/tree/master/website/docs/advanced/docker/images.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{title:"Docker Images Hierarchy",description:"Docker Image Dependencies",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Overview",permalink:"/gatk-sv/docs/advanced/docker/"},next:{title:"Deploying Docker Images",permalink:"/gatk-sv/docs/advanced/docker/deploy/"}},d={},p=[{value:"Advantages of Dividing Images by Functionality",id:"advantages-of-dividing-images-by-functionality",level:2}],m={toc:p},g="wrapper";function u(e){let{components:n,...i}=e;return(0,a.kt)(g,(0,t.Z)({},m,i,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"This page provides a detailed explanation of Docker\nimages and their hierarchy. For information on the process\nof building these images, please refer to ",(0,a.kt)("a",{parentName:"p",href:"/docs/advanced/docker/deploy"},"this section"),".")),(0,a.kt)("p",null,"The tools, scripts, dependencies, and configurations utilized by the\nGATK-SV pipeline, written in WDL, are organized into separate Docker\ncontainers. This modular approach ensures that each container\ncontains only the necessary tools for its specific task,\nresulting in smaller image sizes. This design choice simplifies\nthe definition of Dockerfiles and facilitates easier maintenance.\nMoreover, the smaller image sizes contribute to reduced disk\nusage and lower workflow execution costs."),(0,a.kt)("p",null,"The figure below illustrates the relationships between the GATK-SV Docker images."),(0,a.kt)(o.Z,{alt:"Interconnection Between GATK-SV Docker Images",sources:{light:(0,r.Z)("/img/docker_hierarchy.png"),dark:(0,r.Z)("/img/docker_hierarchy.png")},mdxType:"ThemedImage"}),(0,a.kt)("p",null,"The image depicts the hierarchical relationship among GATK-SV\nDocker images. Arrows indicate the flow from a base image\nto a derived image. The base image, located at the arrow's\nstarting point, shares its content which is then expanded\nupon and modified in the derived image. In simple terms,\nthe derived image inherits the same tools and configuration\nas the base image, while incorporating additional settings and tools."),(0,a.kt)("p",null,"The list of the Docker images and their latest builds\nare available in ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/broadinstitute/gatk-sv/blob/main/inputs/values/dockers.json"},(0,a.kt)("inlineCode",{parentName:"a"},"dockers.json")),"\nand ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/broadinstitute/gatk-sv/blob/main/inputs/values/dockers_azure.json"},(0,a.kt)("inlineCode",{parentName:"a"},"dockers_azure.json")),"\nfor images hosted on Google Container Registry (GCR) and Azure Container Registry (ACR), respectively."),(0,a.kt)("h2",{id:"advantages-of-dividing-images-by-functionality"},"Advantages of Dividing Images by Functionality"),(0,a.kt)("p",null,"The GATK-SV pipeline utilizes Docker images to encapsulate the necessary tools,\ndependencies, and configurations. Instead of having a single monolithic image,\nthe pipeline is organized into multiple smaller images, each focusing on a specific task.\nThis approach offers several benefits."),(0,a.kt)("p",null,"By splitting the tools into separate Docker images, we achieve a modular\nand focused structure. Each image contains the tools required for a specific\ntask within the GATK-SV pipeline. This enables users and developers to easily\nwork with individual images, as they can identify the specific tools needed\nfor their particular analysis."),(0,a.kt)("p",null,"Moreover, using smaller, task-specific Docker images offers the advantage\nof reduced sizes, which is particularly beneficial in cloud environments.\nThese smaller images require less storage space when stored in container\nregistries like Google Cloud Container Registry (GCR) or Azure Container Registry (ACR).\nAdditionally, when creating virtual machines for workflow task execution,\nthe transfer of these smaller images is more efficient."),(0,a.kt)("p",null,"Separate Docker images enhance maintenance and extensibility\nin the GATK-SV pipeline. Maintainers can easily modify or update\nspecific tools or configurations within a single image without\nimpacting others. This granularity improves maintainability\nand enables seamless expansion of the pipeline by adding or\nreplacing tools as required."),(0,a.kt)("p",null,"Additionally, the Docker image hierarchy offers advantages in terms of\nconsistency and efficiency. One image can be built upon another,\nleveraging existing setups and tools. This promotes code reuse and\nreduces duplication, resulting in consistent configurations across\ndifferent stages of the pipeline. It also simplifies the management\nof common dependencies, as changes or updates can be applied at the\nappropriate level, cascading down to the dependent images."),(0,a.kt)("p",null,"In summary, by splitting the tools into smaller, task-specific images,\nthe pipeline becomes more modular and manageable.\nThis approach optimizes storage, execution, maintenance,\nand extensibility in cloud environments.\nLeveraging Docker's image hierarchy further enhances consistency,\ncode reuse, and dependency management, ensuring efficient and\nscalable execution of the pipeline."))}u.isMDXComponent=!0}}]);