"use strict";(self.webpackChunkGATK_SV=self.webpackChunkGATK_SV||[]).push([[9156],{7657:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>l,metadata:()=>a,toc:()=>d});var t=s(4848),i=s(8453);const l={title:"Input Data",description:"Supported input and reference data.",sidebar_position:5,slug:"./inputs"},r=void 0,a={id:"gs/input_files",title:"Input Data",description:"Supported input and reference data.",source:"@site/docs/gs/input_files.md",sourceDirName:"gs",slug:"/gs/inputs",permalink:"/gatk-sv/docs/gs/inputs",draft:!1,unlisted:!1,editUrl:"https://github.com/broadinstitute/gatk-sv/tree/master/website/docs/gs/input_files.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{title:"Input Data",description:"Supported input and reference data.",sidebar_position:5,slug:"./inputs"},sidebar:"tutorialSidebar",previous:{title:"Docker Images",permalink:"/gatk-sv/docs/gs/dockers"},next:{title:"Runtime Environments",permalink:"/gatk-sv/docs/gs/runtime-env"}},o={},d=[{value:"PED file format",id:"ped-format",level:3},{value:"Sample Exclusion",id:"sample-exclusion",level:3},{value:"Sample ID requirements",id:"sampleids",level:3},{value:"Sample IDs must",id:"sample-ids-must",level:4},{value:"Sample IDs should not",id:"sample-ids-should-not",level:4},{value:"Generating a reference panel (single-sample mode only)",id:"generating-a-reference-panel-single-sample-mode-only",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"GATK-SV requires the following input data:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Illumina short-read whole-genome CRAMs or BAMs, aligned to hg38 with ",(0,t.jsx)(n.a,{href:"https://github.com/lh3/bwa",children:"bwa-mem"}),".\nBAMs must also be indexed."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Family structure definitions file in\n",(0,t.jsx)(n.a,{href:"/docs/gs/inputs#ped-format",children:"PED format"}),"."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"ped-format",children:"PED file format"}),"\n",(0,t.jsxs)(n.p,{children:["The PED file format is described ",(0,t.jsx)(n.a,{href:"https://gatk.broadinstitute.org/hc/en-us/articles/360035531972-PED-Pedigree-format",children:"here"}),". Note that GATK-SV imposes additional requirements:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"The file must be tab-delimited."}),"\n",(0,t.jsxs)(n.li,{children:["The sex column must only contain 0, 1, or 2: 1=Male, 2=Female, 0=Other/Unknown. Sex chromosome aneuploidies (detected in ",(0,t.jsx)(n.a,{href:"/docs/modules/eqc",children:"EvidenceQC"}),") should be entered as sex = 0."]}),"\n",(0,t.jsxs)(n.li,{children:["All family, individual, and parental IDs must conform to the ",(0,t.jsx)(n.a,{href:"/docs/gs/inputs#sampleids",children:"sample ID requirements"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Missing parental IDs should be entered as 0."}),"\n",(0,t.jsxs)(n.li,{children:["Header lines are allowed if they begin with a # character.\nTo validate the PED file, you may use ",(0,t.jsx)(n.code,{children:"src/sv-pipeline/scripts/validate_ped.py -p pedigree.ped -s samples.list"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"sample-exclusion",children:"Sample Exclusion"}),"\n",(0,t.jsxs)(n.p,{children:["We recommend filtering out samples with a high percentage\nof improperly paired reads (>10% or an outlier for your data)\nas technical outliers prior to running ",(0,t.jsx)(n.a,{href:"/docs/modules/gse",children:"GatherSampleEvidence"}),".\nA high percentage of improperly paired reads may indicate issues\nwith library prep, degradation, or contamination. Artifactual\nimproperly paired reads could cause incorrect SV calls, and\nthese samples have been observed to have longer runtimes and\nhigher compute costs for ",(0,t.jsx)(n.a,{href:"/docs/modules/gse",children:"GatherSampleEvidence"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"sampleids",children:"Sample ID requirements"}),"\n",(0,t.jsx)(n.h4,{id:"sample-ids-must",children:"Sample IDs must"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Be unique within the cohort"}),"\n",(0,t.jsx)(n.li,{children:"Contain only alphanumeric characters and underscores (no dashes, whitespace, or special characters)"}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"sample-ids-should-not",children:"Sample IDs should not"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Contain only numeric characters"}),"\n",(0,t.jsx)(n.li,{children:"Be a substring of another sample ID in the same cohort"}),"\n",(0,t.jsxs)(n.li,{children:["Contain any of the following substrings: ",(0,t.jsx)(n.code,{children:"chr"}),", ",(0,t.jsx)(n.code,{children:"name"}),", ",(0,t.jsx)(n.code,{children:"DEL"}),", ",(0,t.jsx)(n.code,{children:"DUP"}),", ",(0,t.jsx)(n.code,{children:"CPX"}),", ",(0,t.jsx)(n.code,{children:"CHROM"})]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The same requirements apply to family IDs in the PED file,\nas well as batch IDs and the cohort ID provided as workflow inputs."}),"\n",(0,t.jsxs)(n.p,{children:["Sample IDs are provided to GatherSampleEvidence directly and\nneed not match sample names from the BAM/CRAM headers.\n",(0,t.jsx)(n.code,{children:"GetSampleID.wdl"})," can be used to fetch BAM sample IDs and\nalso generates a set of alternate IDs that are considered\nsafe for this pipeline; alternatively, ",(0,t.jsx)(n.a,{href:"https://github.com/talkowski-lab/gnomad_sv_v3/blob/master/sample_id/convert_sample_ids.py",children:"this script"}),"\ntransforms a list of sample IDs to fit these requirements.\nCurrently, sample IDs can be replaced again in ",(0,t.jsx)(n.a,{href:"/docs/modules/gbe",children:"GatherBatchEvidence"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"The following inputs will need to be updated with the transformed sample IDs:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Sample ID list for ",(0,t.jsx)(n.a,{href:"/docs/modules/gse",children:"GatherSampleEvidence"})," or ",(0,t.jsx)(n.a,{href:"/docs/modules/gbe",children:"GatherBatchEvidence"})]}),"\n",(0,t.jsx)(n.li,{children:"PED file"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"generating-a-reference-panel-single-sample-mode-only",children:"Generating a reference panel (single-sample mode only)"}),"\n",(0,t.jsxs)(n.p,{children:["New reference panels can be generated easily from a single run of the ",(0,t.jsx)(n.code,{children:"GATKSVPipelineBatch"})," workflow. If using a Cromwell server, we recommend copying the outputs to a permanent location by adding the following option to the workflow configuration file:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'  "final_workflow_outputs_dir" : "gs://my-outputs-bucket",\n  "use_relative_output_paths": false,\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Here is an example of how to generate workflow input jsons from ",(0,t.jsx)(n.code,{children:"GATKSVPipelineBatch"})," workflow metadata:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:'> cromshell -t60 metadata 38c65ca4-2a07-4805-86b6-214696075fef > metadata.json\n> python scripts/inputs/create_test_batch.py \\\n    --execution-bucket gs://my-exec-bucket \\\n    --final-workflow-outputs-dir gs://my-outputs-bucket \\\n    metadata.json \\\n    > inputs/values/my_ref_panel.json\n> # Define your google project id (for Cromwell inputs) and Terra billing project (for workspace inputs)\n> echo \'{ "google_project_id": "my-google-project-id", "terra_billing_project_id": "my-terra-billing-project" }\' > inputs/values/google_cloud.my_project.json\n> # Build test files for batched workflows (google cloud project id required)\n> python scripts/inputs/build_inputs.py \\\n    inputs/values \\\n    inputs/templates/test \\\n    inputs/build/my_ref_panel/test \\\n    -a \'{ "test_batch" : "ref_panel_1kg", "cloud_env": "google_cloud.my_project" }\'\n> # Build test files for the single-sample workflow\n> python scripts/inputs/build_inputs.py \\\n    inputs/values \\\n    inputs/templates/test/GATKSVPipelineSingleSample \\\n    inputs/build/NA19240/test_my_ref_panel \\\n    -a \'{ "single_sample" : "test_single_sample_NA19240", "ref_panel" : "my_ref_panel" }\'\n> # Build files for a Terra workspace\n> python scripts/inputs/build_inputs.py \\\n    inputs/values \\\n    inputs/templates/terra_workspaces/single_sample \\\n    inputs/build/NA12878/terra_my_ref_panel \\\n    -a \'{ "single_sample" : "test_single_sample_NA12878", "ref_panel" : "my_ref_panel" }\'\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Note that the inputs to ",(0,t.jsx)(n.code,{children:"GATKSVPipelineBatch"})," may be used as resources for the reference panel and therefore should also be in a permanent location."]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(6540);const i={},l=t.createContext(i);function r(e){const n=t.useContext(l);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(l.Provider,{value:n},e.children)}}}]);